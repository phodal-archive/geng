/*! geng 29-06-2015 */
!function(a,b){"use strict";function c(){this.childs={},this._isWord=!1,this._count=0}function d(){this.root=new c(null)}var e=function(){this.rule=[],this.error=[]};e.learn=function(a){a.constructor===RegExp?this.rule.append(a):this.error.append("not a regex")},e.parser=function(a){return this.time=a,this},e.to=function(a){return this.type=a,this},e.convert=function(){return this.time+this.type},e.version=e.VERSION="0.0.0";var f={"çš„":1};c.prototype={isWord:function(){return this._isWord&&0===this._count},asWord:function(){this._isWord=!0},addCount:function(){this._count++},getCount:function(){return this._count}},d.prototype={toBytes:function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b.push(d):b=b.concat(this.toUTF8(d))}return b},toUTF8:function(a){var b,c,d;return b=224|a>>12&15,c=128|a>>6&63,d=128|63&a,[b,c,d]},toUTF16:function(a,b,c){var d,e,f;return d=a<<4|b>>2&15,e=(3&b)<<6|63&c,f=(255&d)<<8|e},add:function(a){for(var b=this.root,d=this.toBytes(a),e=d.length,f=0;e>f;f++){var g=d[f];g in b.childs||(b.childs[g]=new c(g)),b=b.childs[g]}b.asWord()},search:function(a){for(var b=this.root,c=a.length,d=[],e=[],g=0,h=0;c>h;h++){var i=a[h],j=b.childs;if(!(i in j))return d;if(128>i)e.push(String.fromCharCode(i));else if(g++,g%3===0){var k=a[h-2],l=a[h-1],m=i;e.push(String.fromCharCode(this.toUTF16(k,l,m)))}if(e.join("")in f)return d;var n=j[i];n.isWord()&&(n.addCount(),d.push(e.join(""))),b=n}return d},splitWords:function(a){for(var b=this.toBytes(a),c=0,d=b.length-1,e=[];c!=d;){for(var f=[],g=c;d>=g;g++){var h=b[g];f.push(h);var i=this.search(f);i!==!1&&i.length>0&&(e=e.concat(i))}c++}return e},init:function(a){for(var b=0;b<a.length;b++)this.add(a[b])}},e.trie=d,a.Geng=e}(this);